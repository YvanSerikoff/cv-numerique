/* ===========================
   Thème et palette — refonte complète
   - Par défaut: clair
   - Variante sombre: html.dark
   =========================== */
:root {
  --bg: #f7f9fc;
  --bg-elev: #ffffff;
  --text: #0f172a;
  --muted: #475569;

  --primary: #2563eb;    /* Bleu */
  --primary-2: #1e40af;  /* Bleu foncé */
  --success: #16a34a;    /* Vert */
  --warn: #f59e0b;       /* Ambre */
  --danger: #ef4444;     /* Rouge */
  --accent-1: #06b6d4;   /* Cyan */
  --accent-2: #8b5cf6;   /* Violet */

  --card: #ffffff;
  --border: #e2e8f0;
  --chip: #eef2ff;

  --shadow-sm: 0 4px 12px rgba(0,0,0,.06);
  --shadow-md: 0 10px 24px rgba(0,0,0,.10);
  --shadow-lg: 0 16px 36px rgba(0,0,0,.14);

  --radius-sm: .5rem;
  --radius-md: .75rem;
  --radius-lg: 1rem;

  /* Hard Skills — cartes visibles (responsive) */
  --hs-slides-per-view: 2.4; /* ~2,4 cartes par défaut */
}

@media (min-width: 900px) { :root { --hs-slides-per-view: 3; } }     /* desktop: 3 cartes */
@media (max-width: 700px) { :root { --hs-slides-per-view: 2; } }     /* tablette: 2 cartes */
@media (max-width: 480px) { :root { --hs-slides-per-view: 1.35; } }  /* mobile: ~1,35 carte */

html.dark {
  --bg: #0e1423;
  --bg-elev: #111a2e;
  --text: #e6e8ee;
  --muted: #a9b0c3;

  --primary: #3b82f6;
  --primary-2: #1d4ed8;
  --success: #22c55e;
  --warn: #fbbf24;
  --danger: #f87171;
  --accent-1: #22d3ee;
  --accent-2: #a78bfa;

  --card: #0f1729;
  --border: #1e2a44;
  --chip: #1b2440;

  --shadow-sm: 0 4px 12px rgba(0,0,0,.22);
  --shadow-md: 0 10px 24px rgba(0,0,0,.26);
  --shadow-lg: 0 16px 36px rgba(0,0,0,.30);
}

/* ===========================
   Base & Accessibilité
   =========================== */
* { box-sizing: border-box; min-width: 0; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  line-height: 1.6;
  background:
    radial-gradient(1200px 600px at 10% -10%, color-mix(in oklab, var(--primary) 24%, transparent), transparent 52%) no-repeat,
    radial-gradient(1000px 500px at 90% -20%, color-mix(in oklab, var(--success) 18%, transparent), transparent 62%) no-repeat,
    var(--bg);
}
img, svg, video { max-width: 100%; height: auto; display: block; }
a { color: inherit; text-decoration: none; }

.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  clip-path: inset(50%);
  white-space: nowrap; border: 0;
}
.skip-link { position: absolute; left: -9999px; top: auto; }
.skip-link:focus {
  left: 1rem; top: 1rem;
  background: var(--primary); color: #fff;
  padding: .5rem .75rem; border-radius: var(--radius-sm);
}

/* ===========================
   Layout global
   =========================== */
.container { width: min(1100px, 92%); margin: 0 auto; }
h1, h2, h3 { line-height: 1.25; }
h2 { margin: 0 0 .75rem; font-size: clamp(1.25rem, 2.2vw, 1.5rem); }
p { margin: 0 0 .75rem; color: var(--text); }

.card {
  position: relative;
  background: linear-gradient(180deg, color-mix(in oklab, var(--card) 96%, transparent), var(--card));
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  margin: 1rem 0;
  box-shadow: var(--shadow-md);
}

/* Barre d’accent dégradée en haut de chaque section (modifiable par section) */
.card::before {
  content: "";
  position: absolute;
  inset: 0 0 auto 0; height: 4px;
  background: var(--accent, linear-gradient(90deg, var(--primary), color-mix(in oklab, var(--primary) 40%, var(--success))));
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  opacity: .95;
}

:target h2 {
  text-decoration: underline;
  text-decoration-color: var(--primary);
  text-underline-offset: .2rem;
}

/* ===========================
   Header & Navigation
   =========================== */
.site-header {
  position: sticky; top: 0; z-index: 50;
  backdrop-filter: saturate(150%) blur(8px);
  background: color-mix(in oklab, var(--bg-elev) 85%, transparent);
  border-bottom: 1px solid var(--border);
}
.header-inner {
  display: flex; align-items: center; justify-content: space-between;
  gap: 1rem; padding: .75rem 0;
}

/* Brand cliquable */
.brand {
  text-decoration: none; color: inherit;
  display: flex; align-items: center; gap: .9rem;
}
.brand:hover { filter: brightness(1.04); }
.brand:focus-visible {
  outline: 2px solid var(--primary); outline-offset: 2px; border-radius: var(--radius-sm);
}
.name { font-size: 1.15rem; margin: 0; }
.tagline { margin: .15rem 0 0; color: var(--muted); font-size: .95rem; }

/* Nav */
.site-nav .nav-toggle {
  display: none;
  background: var(--card); border: 1px solid var(--border); color: var(--text);
  padding: .5rem .75rem; border-radius: var(--radius-sm);
}
.nav-list {
  display: flex; gap: .5rem; align-items: center;
  list-style: none; margin: 0; padding: 0;
}
.nav-list a, .nav-list .icon-btn {
  color: var(--text); text-decoration: none; padding: .45rem .6rem;
  border-radius: var(--radius-sm); border: 1px solid transparent;
}
.nav-list a:hover { background: var(--chip); border-color: var(--border); }
.icon-btn {
  background: transparent; border: 1px solid var(--border);
  border-radius: var(--radius-sm); color: var(--text); cursor: pointer;
}
.icon-btn:hover { background: var(--chip); }

@media (max-width: 860px) {
  .site-nav .nav-toggle { display: inline-block; }
  .nav-list {
    display: none; position: absolute; right: 4%; top: 64px;
    background: var(--bg-elev); padding: .5rem; border: 1px solid var(--border);
    border-radius: var(--radius-md); width: min(320px, 92%); flex-direction: column; gap: .25rem;
    box-shadow: var(--shadow-md);
  }
  .nav-list.show { display: flex; }
  .nav-list li { width: 100%; }
  .nav-list a, .nav-list .icon-btn { display: block; width: 100%; text-align: left; }
}

/* ===========================
   Boutons
   =========================== */
.btn {
  display: inline-flex; align-items: center; gap: .5rem;
  border: 1px solid var(--border); background: var(--bg-elev); color: var(--text);
  padding: .6rem .9rem; border-radius: .6rem; text-decoration: none; cursor: pointer;
  transition: filter .18s ease, transform .18s ease;
}
.btn.primary { background: var(--primary); border-color: var(--primary-2); color: #fff; }
.btn.small { padding: .4rem .6rem; font-size: .9rem; }
.btn:hover { filter: brightness(1.06) saturate(1.03); }
.btn:active { transform: translateY(1px); }

/* ===========================
   À propos (image + texte côte à côte)
   =========================== */
#a-propos { --accent: linear-gradient(90deg, var(--accent-2), var(--accent-1)); }

.intro .intro-grid {
  display: grid; grid-template-columns: minmax(0, auto) minmax(0, 1fr); /* anti-overflow */
  align-items: center;
  gap: 1rem 1.25rem; margin-bottom: .75rem;
}

/* Avatar + Hover interactif */
.intro .avatar {
  width: clamp(200px, 40vw, 320px);
  height: clamp(200px, 40vw, 320px);
  border-radius: 50%; object-fit: cover;
  border: 2px solid var(--border); box-shadow: var(--shadow-sm);
  transition:
    transform .35s ease,
    box-shadow .35s ease,
    border-color .35s ease,
    filter .35s ease;
  will-change: transform, box-shadow, filter;
}
.intro .avatar:hover {
  transform: scale(1.04) rotate(-1deg);
  border-color: var(--primary);
  box-shadow:
    0 0 0 4px color-mix(in oklab, var(--primary) 20%, transparent),
    0 16px 36px color-mix(in oklab, var(--primary) 18%, rgba(0,0,0,.12));
  filter: saturate(1.06) contrast(1.02);
}
.intro .avatar:active {
  transform: scale(1.02) rotate(-0.5deg);
  filter: brightness(.99);
}
.intro .avatar:focus-visible {
  outline: none;
  border-color: var(--primary);
  box-shadow:
    0 0 0 4px color-mix(in oklab, var(--primary) 28%, transparent),
    0 10px 28px color-mix(in oklab, var(--primary) 18%, rgba(0,0,0,.12));
}
.intro .intro-grid p { margin: 0; }
.intro .cta-row { display: flex; gap: .75rem; flex-wrap: wrap; margin-top: .75rem; }

@media (max-width: 640px) {
  .intro .intro-grid { grid-template-columns: 1fr; align-items: start; }
  .intro .avatar { width: 140px; height: 140px; }
}

/* ===========================
   Hard Skills — défilement continu (via JS), cartes étroites
   =========================== */
#hard-skills { --accent: linear-gradient(90deg, #3b82f6, #06b6d4); }
#hard-skills .carousel { position: relative; max-width: min(760px, 100%); margin-inline: auto; }
#hard-skills .carousel-viewport {
  position: relative; overflow: hidden; padding-inline: .5rem; /* compact */
  border-radius: var(--radius-md); contain: paint;
  background: color-mix(in oklab, var(--bg-elev) 95%, transparent);
  border: 1px solid var(--border);
}
/* caches opaques sur les bords (alignés avec le padding) */
#hard-skills .carousel-viewport::before,
#hard-skills .carousel-viewport::after {
  content: ""; position: absolute; top: 0; bottom: 0; width: .5rem;
  background: var(--card); pointer-events: none; z-index: 2;
}
#hard-skills .carousel-viewport::before { left: 0; box-shadow: inset -6px 0 10px -8px rgba(0,0,0,.12); }
#hard-skills .carousel-viewport::after  { right: 0; box-shadow: inset  6px 0 10px -8px rgba(0,0,0,.12); }

/* Piste: animée en continu par JS, pas d'animation CSS par slide */
#hard-skills .skills {
  position: relative; z-index: 1; display: flex; gap: 0; padding: 0; margin: 0; list-style: none;
  transition: none !important;
  will-change: transform;
}

/* Cartes: étroites, 1 / var(--hs-slides-per-view) */
#hard-skills .skills li {
  flex: 0 0 calc(100% / var(--hs-slides-per-view));
  box-sizing: border-box;
  padding: .6rem .75rem; min-height: 150px; margin-top: .4rem;
  background: linear-gradient(180deg, color-mix(in oklab, var(--card) 96%, transparent), var(--card));
  border: 1px solid color-mix(in oklab, var(--border) 80%, transparent);
  border-radius: .6rem; box-shadow: var(--shadow-sm);
  display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; gap: .35rem;
}

/* Icône/logo compact */
#hard-skills .skill-icon {
  display: block; width: clamp(38px, 8vw, 64px); height: clamp(38px, 8vw, 64px);
  aspect-ratio: 1 / 1; object-fit: contain;
  background: var(--bg-elev); border: 1px solid var(--border);
  border-radius: .6rem; padding: .35rem; box-shadow: var(--shadow-sm);
  transition: none !important;       /* pas d’hover */
}
#hard-skills .skills li > span { font-size: .95rem; letter-spacing: .2px; font-weight: 650; }

/* Désactive tout hover/focus visuel sur le carrousel et masque d’anciens boutons */
#hard-skills .skills li:hover,
#hard-skills .skills li:focus-within { transform: none !important; box-shadow: var(--shadow-sm) !important; border-color: color-mix(in oklab, var(--border) 80%, transparent) !important; }
#hard-skills .skills li:hover .skill-icon,
#hard-skills .skills li:focus-within .skill-icon { transform: none !important; box-shadow: var(--shadow-sm) !important; border-color: var(--border) !important; filter: none !important; }
#hard-skills .carousel-btn { display: none !important; }

/* ===========================
   Soft Skills & Loisirs — grilles 2x2
   =========================== */
#soft-skills { --accent: linear-gradient(90deg, var(--warn), var(--danger)); }
#loisirs     { --accent: linear-gradient(90deg, #14b8a6, #f43f5e); }

.soft-grid {
  list-style: none; padding: 0; margin: 0;
  display: grid; grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: .9rem;
}
.soft-grid li {
  display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
  padding: 1rem; gap: .55rem; min-height: 170px; overflow: hidden;
  background: var(--bg-elev); border: 1px solid var(--border); border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease, background-color .25s ease, filter .25s ease;
}

/* Pastille image */
.soft-grid li > img:first-child {
  display: block; width: clamp(60px, 14vw, 90px); height: clamp(60px, 14vw, 90px);
  aspect-ratio: 1 / 1; object-fit: contain;
  background: var(--bg-elev); border: 1px solid var(--border);
  border-radius: .75rem; padding: .5rem; box-shadow: var(--shadow-sm);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease, filter .25s ease;
}

/* Pastille icône (si utilisée en premier enfant) */
.soft-grid li > i:first-child {
  width: clamp(60px, 14vw, 90px); height: clamp(60px, 14vw, 90px);
  display: inline-flex; align-items: center; justify-content: center;
  background: var(--bg-elev); border: 1px solid var(--border); border-radius: .75rem;
  box-shadow: var(--shadow-sm); color: var(--primary); font-size: clamp(28px, 6vw, 36px);
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease, filter .25s ease;
}

/* Hover interactif */
.soft-grid li:hover, .soft-grid li:focus-within {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in oklab, var(--primary) 35%, var(--border));
}
.soft-grid li:hover > img:first-child,
.soft-grid li:focus-within > img:first-child,
.soft-grid li:hover > i:first-child,
.soft-grid li:focus-within > i:first-child {
  transform: scale(1.06);
  border-color: var(--primary);
  box-shadow: 0 12px 26px color-mix(in oklab, var(--primary) 28%, transparent);
  filter: saturate(1.04);
}

/* Si un <i> suit l’image (HTML actuel), on évite la double pastille */
#soft-skills .soft-grid li > i:not(:first-child),
#loisirs .soft-grid li > i:not(:first-child) {
  display: none;
}

/* ===========================
   Timeline, Projets, Chips
   =========================== */
.timeline { list-style: none; padding: 0; margin: 0; border-left: 2px solid var(--border); }
.timeline li { position: relative; margin: 0 0 1rem 1rem; padding-left: 1rem; }
.timeline li::before {
  content: ""; position: absolute; left: -1.16rem; top: .35rem;
  width: .7rem; height: .7rem; border-radius: 50%;
  background: var(--primary); border: 2px solid var(--bg);
}
.timeline .time { color: var(--muted); font-size: .95rem; margin-bottom: .25rem; }
.timeline .content h3 { margin: .1rem 0 .25rem; font-size: 1.05rem; }

.projects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: .9rem; }
.project {
  border: 1px solid var(--border); background: var(--bg-elev);
  border-radius: .9rem; padding: .9rem; display: flex; flex-direction: column; gap: .5rem;
  box-shadow: var(--shadow-sm);
}
.badge {
  background: linear-gradient(90deg,
  color-mix(in oklab, var(--primary) 28%, transparent),
  color-mix(in oklab, var(--success) 20%, transparent)
  );
  color: #0b1220;
  padding: .12rem .45rem; border-radius: .45rem; font-size: .8rem;
  border: 1px solid color-mix(in oklab, var(--primary) 55%, var(--success));
}
.actions { display: flex; gap: .5rem; flex-wrap: wrap; }

.chips { display: flex; gap: .5rem; flex-wrap: wrap; margin-top: .6rem; }
.chip {
  background: linear-gradient(180deg,
  color-mix(in oklab, var(--primary) 14%, transparent),
  color-mix(in oklab, var(--chip) 88%, transparent)
  );
  color: var(--text);
  border: 1px solid color-mix(in oklab, var(--primary) 28%, var(--border));
  padding: .28rem .6rem; border-radius: 999px; font-size: .85rem;
}

/* ===========================
   Contact — cartes (sans formulaire)
   =========================== */
#contact { --accent: linear-gradient(90deg, var(--primary), var(--success)); }

.contact-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1rem;
}
.contact-card {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: .9rem;
  padding: 1rem;
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: .6rem;
  transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
}
.contact-card:hover,
.contact-card:focus-within {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in oklab, var(--primary) 35%, var(--border));
}
.contact-card .contact-icon,
.contact-card > img {
  width: 100%;
  aspect-ratio: 16 / 9;
  object-fit: contain;
  border-radius: .8rem;
  border: 1px solid var(--border);
  background: var(--bg-elev);
}

/* ===========================
   Back to top & Footer
   =========================== */
.back-to-top {
  position: fixed; right: 1rem; bottom: 1rem;
  display: none; padding: .6rem; border-radius: 999px; border: 1px solid var(--border);
  background: var(--bg-elev); color: var(--text); cursor: pointer; box-shadow: var(--shadow-sm);
}
.back-to-top.show { display: inline-flex; }
.site-footer { padding: 2rem 0; color: var(--muted); text-align: center; }

/* ===========================
   Sections: couleurs d’accent
   =========================== */
#formations  { --accent: linear-gradient(90deg, var(--success), #3b82f6); }
#experiences { --accent: linear-gradient(90deg, var(--danger), var(--warn)); }
#projets     { --accent: linear-gradient(90deg, var(--accent-1), var(--accent-2)); }

/* ===========================
   Préférences de mouvement réduit
   =========================== */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; }
}

/* ===========================
   Sécurité anti-overflow globale
   =========================== */
html, body { overflow-x: hidden; }
